<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Editor | Patika</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, sans-serif; background: #000; color: #fff; height: 100vh; display: flex; flex-direction: column; }
        .editor-header { padding: 20px; background: #111; display: flex; gap: 10px; align-items: center; }
        .back-btn { background: #333; border: none; color: white; padding: 10px 15px; border-radius: 8px; cursor: pointer; font-size: 18px; }
        .title-input { flex: 1; padding: 12px; background: #222; border: 1px solid #444; border-radius: 8px; color: white; font-size: 16px; }
        .save-btn { background: #000; border: 1px solid #fff; color: white; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        #editor { width: 100%; flex: 1; padding: 25px; background: #000; color: #fff; border: none; font-size: 18px; line-height: 1.7; resize: none; }
        #editor:focus { outline: none; }
        .editor-footer { padding: 15px; background: #111; display: flex; justify-content: space-between; color: #999; font-size: 14px; }
    </style>
</head>
<body>
    <div class="editor-header">
        <button class="back-btn" onclick="window.history.back()">‚Üê</button>
        <input type="text" class="title-input" placeholder="T√≠tulo do projeto" value="Novo projeto">
        <button class="save-btn" onclick="saveProject()">üíæ Salvar</button>
    </div>
    
    <textarea id="editor" placeholder="Comece a escrever..."></textarea>
    
    <div class="editor-footer">
        <span id="wordCount">0 palavras</span>
        <span id="saveStatus">‚úì Pronto</span>
    </div>
    
    <script>
        const editor = document.getElementById('editor');
        const titleInput = document.querySelector('.title-input');
        
        // Auto-save b√°sico
        function saveProject() {
            const project = {
                title: titleInput.value || 'Sem t√≠tulo',
                content: editor.value,
                updated: new Date().toISOString()
            };
            localStorage.setItem('patika_current', JSON.stringify(project));
            document.getElementById('saveStatus').textContent = '‚úì Salvo';
            setTimeout(() => {
                document.getElementById('saveStatus').textContent = '‚úì Pronto';
            }, 2000);
            updateWordCount();
        }
        
        function updateWordCount() {
            const words = editor.value.trim().split(/\s+/).filter(w => w.length > 0).length;
            document.getElementById('wordCount').textContent = words + ' palavras';
        }
        
        // Carregar rascunho salvo
        const saved = localStorage.getItem('patika_current');
        if (saved) {
            const project = JSON.parse(saved);
            editor.value = project.content || '';
            titleInput.value = project.title || 'Novo projeto';
        }
        
        // Event listeners
        editor.addEventListener('input', () => {
            updateWordCount();
            setTimeout(saveProject, 2000); // Auto-save ap√≥s 2s
        });
        
        titleInput.addEventListener('input', () => {
            setTimeout(saveProject, 2000);
        });
        
        // Atalhos
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                saveProject();
            }
        });
        
        // Inicializar
        updateWordCount();
        editor.focus();
    </script>
</body>
</html>
