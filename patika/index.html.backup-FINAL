<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PATIKA - Editor de Roteiro</title>
    <link rel="stylesheet" href="css/patika.css">
    <style>
        /* Estilos b√°sicos */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .patika-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        /* Header */
        .patika-header {
            background: #2c3e50;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        /* Abas principais */
        .nav-tabs {
            display: flex;
            background: #34495e;
            padding: 0 20px;
        }
        
        .tab-item {
            padding: 12px 24px;
            color: white;
            cursor: pointer;
            background: transparent;
            border: none;
            font-size: 14px;
            font-weight: 500;
        }
        
        .tab-item.active {
            background: #00A86B;
            color: white;
        }
        
        /* Conte√∫do das abas */
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Layout da aba Roteiro */
        .roteiro-layout {
            display: flex;
            gap: 20px;
        }
        
        /* Painel esquerdo - Cenas */
        .painel-cenas {
            width: 250px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        #lista-cenas {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .cena-item {
            padding: 10px;
            margin: 5px 0;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
            border-left: 3px solid #00A86B;
            transition: all 0.2s;
        }
        
        .cena-item:hover {
            background: #00A86B;
            color: white;
        }
        
        /* Editor central */
        .editor-central {
            flex: 1;
        }
        
        #roteiro-editor {
            min-height: 600px;
            padding: 30px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            line-height: 1.8;
            font-size: 14px;
            outline: none;
            overflow-y: auto;
        }
        
        /* Barra de ferramentas */
        .toolbar {
            margin-bottom: 15px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .toolbar button {
            padding: 8px 12px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
        }
        
        .toolbar button:hover {
            background: #00A86B;
            color: white;
        }
        
        /* Painel direito - Estat√≠sticas */
        .painel-estatisticas {
            width: 250px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        /* Formata√ß√£o do roteiro */
        .patika-cena {
            font-weight: bold;
            text-transform: uppercase;
            margin-top: 24px;
            color: #00A86B;
        }
        
        .patika-personagem {
            margin-left: 200px;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .patika-dialogo {
            margin-left: 140px;
            margin-right: 140px;
        }
        
        .patika-acao {
            margin-left: 0;
        }
    </style>
</head>
<body>
    <div class="patika-container">
        <!-- HEADER -->
        <div class="patika-header">
            <h1>PATIKA</h1>
            <div>
                <span id="projetoNome">projeto_sem_t√≠tulo</span>
                <span style="margin-left: 15px; color: #00A86B;">‚óè</span>
            </div>
        </div>
        
        <!-- ABAS PRINCIPAIS -->
        <div class="nav-tabs">
            <button class="tab-item active" onclick="mudarAba('roteiro')">üìù ROTEIRO</button>
            <button class="tab-item" onclick="mudarAba('sinopse')">üìã SINOPSE</button>
            <button class="tab-item" onclick="mudarAba('argumento')">üìÑ ARGUMENTO</button>
            <button class="tab-item" onclick="mudarAba('escaleta')">üìä ESCALETA</button>
            <button class="tab-item" onclick="mudarAba('personagens')">üë• PERSONAGENS</button>
        </div>
        
        <!-- CONTE√öDO DAS ABAS -->
        
        <!-- ABA ROTEIRO (ATIVA POR PADR√ÉO) -->
        <div id="roteiro-tab-content" class="tab-content active">
            <h2 style="margin-top: 0;">Editor de Roteiro</h2>
            
            <div class="roteiro-layout">
                <!-- PAINEL ESQUERDO - CENAS -->
                <div class="painel-cenas">
                    <h3 style="margin-top: 0; color: #00A86B;">üìã CENAS</h3>
                    <div id="lista-cenas">
                        <!-- Ser√° preenchido pelo JavaScript -->
                    </div>
                    <button onclick="inserirCena()" style="width:100%; margin-top:15px; padding:10px; background:#00A86B; color:white; border:none; border-radius:5px; cursor:pointer;">
                        + Nova Cena
                    </button>
                </div>
                
                <!-- EDITOR CENTRAL -->
                <div class="editor-central">
                    <!-- BARRA DE FERRAMENTAS -->
                    <div class="toolbar">
                        <button onclick="inserirElemento('cena')">üé¨ Cena</button>
                        <button onclick="inserirElemento('personagem')">üë§ Personagem</button>
                        <button onclick="inserirElemento('acao')">üìù A√ß√£o</button>
                        <button onclick="inserirElemento('dialogo')">üí¨ Di√°logo</button>
                        <button onclick="inserirElemento('transicao')">‚è© Transi√ß√£o</button>
                        <span style="flex:1;"></span>
                        <button onclick="salvarVersao()">üíæ Salvar</button>
                        <button onclick="exportarRoteiro()">üì§ Exportar</button>
                        <button onclick="toggleModoFoco()">üéØ Foco</button>
                        <button onclick="toggleModoEscuro()">üåô Escuro</button>
                    </div>
                    
                    <!-- EDITOR PRINCIPAL -->
                    <div id="roteiro-editor" contenteditable="true">
                        <div class="patika-cena">1. INT. SALA DE ESTAR - DIA</div>
                        <div class="patika-acao">Jo√£o est√° sentado no sof√°, pensativo. A luz da manh√£ entra pela janela.</div>
                        <div class="patika-personagem">JO√ÉO</div>
                        <div class="patika-dialogo">Preciso terminar este roteiro hoje.</div>
                        <div class="patika-acao">Maria entra na sala.</div>
                        <div class="patika-personagem">MARIA</div>
                        <div class="patika-dialogo">Como est√° o progresso?</div>
                    </div>
                    
                    <!-- STATUS BAR -->
                    <div style="display: flex; justify-content: space-between; margin-top: 10px; padding: 8px; background: #f0f0f0; border-radius: 4px; font-size: 12px;">
                        <span>Linhas: <span id="total-linhas">0</span></span>
                        <span>Palavras: <span id="total-palavras">0</span></span>
                        <span>P√°ginas: <span id="total-paginas">0</span></span>
                        <span>Tempo: <span id="tempo-estimado">0</span> min</span>
                    </div>
                </div>
                
                <!-- PAINEL DIREITO - ESTAT√çSTICAS -->
                <div class="painel-estatisticas">
                    <h3 style="margin-top: 0; color: #00A86B;">üìä ESTAT√çSTICAS</h3>
                    
                    <div class="stat-item">
                        <span>Total Cenas:</span>
                        <span id="stat-cenas">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Personagens:</span>
                        <span id="stat-personagens">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Di√°logos:</span>
                        <span id="stat-dialogos">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Falas:</span>
                        <span id="stat-falas">0</span>
                    </div>
                    
                    <h3 style="color: #00A86B; margin-top: 20px;">üîÑ VERS√ïES</h3>
                    <div id="lista-versoes" style="max-height: 200px; overflow-y: auto;">
                        <!-- Ser√° preenchido pelo JavaScript -->
                    </div>
                    
                    <button onclick="fazerBackup()" style="width:100%; margin-top:15px; padding:8px; background:#333; color:white; border:none; border-radius:5px; cursor:pointer;">
                        üíæ Backup Completo
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ABA SINOPSE -->
        <div id="sinopse-tab-content" class="tab-content">
            <h2>Sinopse</h2>
            <textarea style="width:100%; min-height:400px; padding:15px; border:1px solid #ddd; border-radius:5px;" placeholder="Escreva a sinopse da sua hist√≥ria aqui..."></textarea>
        </div>
        
        <!-- ABA ARGUMENTO -->
        <div id="argumento-tab-content" class="tab-content">
            <h2>Argumento</h2>
            <textarea style="width:100%; min-height:400px; padding:15px; border:1px solid #ddd; border-radius:5px;" placeholder="Desenvolva o argumento completo..."></textarea>
        </div>
        
        <!-- ABA ESCALETA -->
        <div id="escaleta-tab-content" class="tab-content">
            <h2>Escaleta</h2>
            <textarea style="width:100%; min-height:400px; padding:15px; border:1px solid #ddd; border-radius:5px;" placeholder="Liste as cenas em ordem..."></textarea>
        </div>
        
        <!-- ABA PERSONAGENS -->
        <div id="personagens-tab-content" class="tab-content">
            <h2>Personagens</h2>
            <div style="display: flex; gap: 20px;">
                <div style="flex:1;">
                    <input type="text" id="novo-personagem" placeholder="Nome do personagem" style="width:70%; padding:8px;">
                    <button onclick="adicionarPersonagem()" style="padding:8px 15px; background:#00A86B; color:white; border:none; border-radius:5px;">Adicionar</button>
                </div>
            </div>
            <div id="lista-personagens" style="margin-top:20px;">
                <!-- Lista de personagens -->
            </div>
        </div>
    </div>
    
    <script src="js/patika.js"></script>
    <script>
        // Fun√ß√£o para mudar de aba
        function mudarAba(aba) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.getElementById(aba + '-tab-content').classList.add('active');
            event.target.classList.add('active');
        }
        
        // Fun√ß√µes b√°sicas
        function adicionarPersonagem() {
            const nome = document.getElementById('novo-personagem').value;
            if (nome) {
                const lista = document.getElementById('lista-personagens');
                const div = document.createElement('div');
                div.style.padding = '10px';
                div.style.background = '#f0f0f0';
                div.style.margin = '5px 0';
                div.style.borderRadius = '5px';
                div.innerText = nome;
                lista.appendChild(div);
                document.getElementById('novo-personagem').value = '';
            }
        }
        
        function fazerBackup() {
            alert('Backup realizado com sucesso!');
        }
    </script>
</body>
</html>
