<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Sonata | Hub Criativo</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/hub.css">
</head>
<body>

    <div class="nav-right">
        <button onclick="togglePanel('cdd')">CDD</button>
        <button onclick="togglePanel('patika')">Patika</button>
        <button onclick="togglePanel('aulas')">Aulas</button>
    </div>

    <div class="hero-bg">
        <img src="assets/images/fotodeperfil.jpg" class="profile-main-img" alt="Patrick Sonata">
        <h1>PATRICK SONATA</h1>
        <div class="nav-center">
            <button onclick="togglePanel('sobre')">Sobre</button>
            <button onclick="togglePanel('perfil')">Perfil</button>
            <button onclick="openGallery()">Trabalho</button>
        </div>
    </div>

    <div id="side-panel" class="panel">
        <div class="close-x" onclick="closeAll()">X</div>
        <div id="panel-content"></div>
    </div>

    <div id="work-gallery" class="full-overlay">
        <div class="close-x" onclick="closeAll()" style="color:#fff">FECHAR X</div>
        <div class="gallery-container">
            <h2 style="margin-bottom: 40px; letter-spacing: 5px;">PORTFÓLIO VISUAL</h2>
            <img src="assets/images/works/pabloeluisao.webp" alt="Pablo e Luisão">
            <img src="assets/images/works/zorralogo.jpg" alt="Zorra">
            <img src="assets/images/works/cidadecorreriapeca.webp" alt="Cidade Correria">
            <img src="assets/images/works/doccidadecorreria.webp" alt="Documentário">
            <img src="assets/images/works/originais.webp" alt="Originais">
            <img src="assets/images/works/jongo.webp" alt="Jongo">
        </div>
    </div>

    <script src="assets/js/database.js"></script>
    <script src="assets/js/utils/local-storage.js"></script>
    <script src="assets/js/jogo.js"></script>

    <script>
        function togglePanel(id) {
            const panel = document.getElementById('side-panel');
            const contentDiv = document.getElementById('panel-content');
            
            if(!window.db || !window.db[id]) {
                console.error("Erro: Banco de dados não carregado ou ID inválido.");
                return;
            }

            const data = window.db[id];
            
            contentDiv.innerHTML = `
                <div class="slugline">${data.title}</div>
                <div class="action-text">${data.text}</div>
                ${data.link ? `<a href="${data.link}" class="cta-button" target="_blank">${data.label || 'VER MAIS'}</a>` : ''}
            `;
            
            panel.classList.add('active');
            document.getElementById('work-gallery').classList.remove('active');

            if(data.isGame) {
                setTimeout(() => {
                    if(window.iniciarTerminalCDD) window.iniciarTerminalCDD();
                    const input = document.getElementById('game-input');
                    if(input) input.focus();
                }, 200);
            }
        }

        function openGallery() { closeAll(); document.getElementById('work-gallery').classList.add('active'); }
        function closeAll() { document.getElementById('side-panel').classList.remove('active'); document.getElementById('work-gallery').classList.remove('active'); }

        document.addEventListener('keydown', function(e) {
            if (e.target && e.target.id === 'game-input' && e.key === 'Enter') {
                const val = e.target.value;
                if(window.processarJogo) window.processarJogo(val);
                e.target.value = '';
            }
        });
    </script>
</body>
</html>
