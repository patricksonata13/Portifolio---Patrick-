<!-- Sub-Aba "Roteiro" -->
<div id="roteiro-tab-content" class="tab-content">
    <h2>Roteiro</h2>
    
    <!-- Painel lateral do Ã­ndice de cenas -->
    <div id="index-cenas" class="index-cenas">
        <h3>Cenas</h3>
        <div id="lista-cenas"></div>
    </div>

    <!-- Editor do Roteiro -->
    <div id="roteiro-editor" contenteditable="true"></div>

    <!-- Barra de navegaÃ§Ã£o e configuraÃ§Ãµes -->
    <div class="roteiro-controls">
        <button onclick="toggleBeatBoard()">Beat Board</button>
        <button onclick="toggleModoFoco()">Modo Foco</button>
        <button onclick="salvarVersao()">Salvar VersÃ£o</button>
        <button onclick="exportarRoteiro()">Exportar Roteiro</button>
        <button onclick="toggleModoEscuro()">Modo Escuro</button>
    </div>

    <!-- Extra: Banco de Personagens -->
    <div id="banco-personagens">
        <h3>Personagens</h3>
        <div id="lista-personagens"></div>
    </div>
</div>

<!-- MENU DE ABAS -->
<div style="margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">
    <span class="tab-item active" onclick="ativarAbaRoteiro()" style="cursor:pointer; padding:10px 20px; background:#00A86B; color:white; border-radius:5px 5px 0 0;">ğŸ“ Roteiro</span>
    <span class="tab-item" onclick="alert('Em breve!')" style="cursor:pointer; padding:10px 20px; background:#f0f0f0; border-radius:5px 5px 0 0;">ğŸ“‹ Sinopse</span>
    <span class="tab-item" onclick="alert('Em breve!')" style="cursor:pointer; padding:10px 20px; background:#f0f0f0; border-radius:5px 5px 0 0;">ğŸ‘¥ Personagens</span>
</div>

<!-- MENU DE ABAS -->
<div style="margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px;">
    <span class="tab-item active" onclick="ativarAbaRoteiro()" style="cursor:pointer; padding:10px 20px; background:#00A86B; color:white; border-radius:5px 5px 0 0;">ğŸ“ Roteiro</span>
    <span class="tab-item" onclick="alert('Em breve!')" style="cursor:pointer; padding:10px 20px; background:#f0f0f0; border-radius:5px 5px 0 0;">ğŸ“‹ Sinopse</span>
    <span class="tab-item" onclick="alert('Em breve!')" style="cursor:pointer; padding:10px 20px; background:#f0f0f0; border-radius:5px 5px 0 0;">ğŸ‘¥ Personagens</span>
</div>

<!-- ======================================== -->
<!-- CONTEÃšDO COMPLETO DA ABA ROTEIRO        -->
<!-- (ISSO VAI DENTRO DA DIV DA ABA ROTEIRO) -->
<!-- ======================================== -->

<div id="roteiro-full-editor" style="display: block; padding: 20px;">

    <!-- CABEÃ‡ALHO DA FERRAMENTA -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="color: #2f2f2f; margin: 0;">âœï¸ Editor de Roteiro Profissional</h2>
        <div>
            <span id="contador-palavras" style="background: #f0f0f0; padding: 5px 10px; border-radius: 5px; font-size: 14px;">0 palavras</span>
            <span id="contador-paginas" style="background: #f0f0f0; padding: 5px 10px; border-radius: 5px; font-size: 14px; margin-left: 10px;">0 pÃ¡ginas</span>
        </div>
    </div>

    <!-- LAYOUT DE 3 COLUNAS (IGUAL FINAL DRAFT) -->
    <div style="display: flex; gap: 20px;">

        <!-- COLUNA 1: PAINEL DE CENAS E PERSONAGENS -->
        <div style="width: 250px; background: #f8f9fa; border-radius: 8px; padding: 15px;">
            
            <!-- ABAS DO PAINEL LATERAL -->
            <div style="display: flex; border-bottom: 2px solid #00A86B; margin-bottom: 15px;">
                <button class="painel-tab active" onclick="mostrarPainel('cenas')" style="flex:1; padding:8px; background:none; border:none; cursor:pointer; font-weight:bold; color:#00A86B;">ğŸ“‹ CENAS</button>
                <button class="painel-tab" onclick="mostrarPainel('personagens')" style="flex:1; padding:8px; background:none; border:none; cursor:pointer;">ğŸ‘¥ PERSONAGENS</button>
                <button class="painel-tab" onclick="mostrarPainel('notas')" style="flex:1; padding:8px; background:none; border:none; cursor:pointer;">ğŸ“Œ NOTAS</button>
            </div>

            <!-- CONTEÃšDO DO PAINEL - CENAS -->
            <div id="painel-cenas" style="display: block;">
                <h3 style="font-size:14px; color:#666; margin-bottom:10px;">ÃNDICE DE CENAS</h3>
                <div id="lista-cenas" style="max-height: 400px; overflow-y: auto;"></div>
                <button onclick="novaCena()" style="width:100%; margin-top:10px; padding:8px; background:#00A86B; color:white; border:none; border-radius:5px;">+ Nova Cena</button>
            </div>

            <!-- CONTEÃšDO DO PAINEL - PERSONAGENS (INICIALMENTE OCULTO) -->
            <div id="painel-personagens" style="display: none;">
                <h3 style="font-size:14px; color:#666; margin-bottom:10px;">BANCO DE PERSONAGENS</h3>
                <div id="lista-personagens"></div>
                <button onclick="novoPersonagem()" style="width:100%; margin-top:10px; padding:8px; background:#00A86B; color:white; border:none; border-radius:5px;">+ Novo Personagem</button>
            </div>

            <!-- CONTEÃšDO DO PAINEL - NOTAS -->
            <div id="painel-notas" style="display: none;">
                <textarea id="notas-gerais" placeholder="Escreva suas notas aqui..." style="width:100%; height:200px; padding:10px; border:1px solid #ddd; border-radius:5px;"></textarea>
            </div>
        </div>

        <!-- COLUNA 2: EDITOR PRINCIPAL -->
        <div style="flex: 1; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
            
            <!-- BARRA DE FERRAMENTAS DO EDITOR -->
            <div style="padding: 10px; border-bottom: 1px solid #eee; display: flex; gap: 5px; flex-wrap: wrap;">
                <button onclick="inserirElemento('scene')" style="padding:5px 10px; background:#f0f0f0; border:1px solid #ddd; border-radius:3px; cursor:pointer;">ğŸ¬ Cena</button>
                <button onclick="inserirElemento('character')" style="padding:5px 10px; background:#f0f0f0; border:1px solid #ddd; border-radius:3px; cursor:pointer;">ğŸ‘¤ Personagem</button>
                <button onclick="inserirElemento('action')" style="padding:5px 10px; background:#f0f0f0; border:1px solid #ddd; border-radius:3px; cursor:pointer;">ğŸ“ AÃ§Ã£o</button>
                <button onclick="inserirElemento('dialogue')" style="padding:5px 10px; background:#f0f0f0; border:1px solid #ddd; border-radius:3px; cursor:pointer;">ğŸ’¬ DiÃ¡logo</button>
                <button onclick="inserirElemento('transition')" style="padding:5px 10px; background:#f0f0f0; border:1px solid #ddd; border-radius:3px; cursor:pointer;">â© TransiÃ§Ã£o</button>
                <span style="flex:1"></span>
                <button onclick="toggleModoFoco()" style="padding:5px 10px; background:#00A86B; color:white; border:none; border-radius:3px; cursor:pointer;">ğŸ¯ Foco</button>
                <button onclick="toggleModoEscuro()" style="padding:5px 10px; background:#333; color:white; border:none; border-radius:3px; cursor:pointer;">ğŸŒ™ Escuro</button>
            </div>

            <!-- EDITOR PRINCIPAL -->
            <div id="roteiro-editor" contenteditable="true" style="min-height: 600px; padding: 30px; font-family: 'Courier New', monospace; line-height: 1.8; font-size: 14px; outline: none;">
                <!-- CONTEÃšDO INICIAL DE EXEMPLO -->
                <div class="patika-cena">1. INT. SALA DE ESTAR - DIA</div>
                <div class="patika-acao">JoÃ£o estÃ¡ sentado no sofÃ¡, pensativo. Maria entra pela porta.</div>
                <div class="patika-personagem">MARIA</div>
                <div class="patika-dialogo">Oi, tudo bem? VocÃª estÃ¡ estranho hoje.</div>
                <div class="patika-personagem">JOÃƒO</div>
                <div class="patika-dialogo">Estou apenas pensando no roteiro que preciso escrever.</div>
            </div>
        </div>

        <!-- COLUNA 3: FERRAMENTAS E ESTATÃSTICAS -->
        <div style="width: 280px; background: #f8f9fa; border-radius: 8px; padding: 15px;">
            
            <h3 style="color:#00A86B; margin-top:0;">ğŸ“Š ESTATÃSTICAS</h3>
            
            <div style="background:white; padding:10px; border-radius:5px; margin-bottom:15px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                    <span>Cenas:</span>
                    <span id="stat-cenas">0</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                    <span>Personagens:</span>
                    <span id="stat-personagens">0</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                    <span>DiÃ¡logos:</span>
                    <span id="stat-dialogos">0</span>
                </div>
                <div style="display:flex; justify-content:space-between;">
                    <span>Tempo estimado:</span>
                    <span id="stat-tempo">0 min</span>
                </div>
            </div>

            <h3 style="color:#00A86B;">âš™ï¸ FERRAMENTAS</h3>
            
            <button onclick="salvarVersao()" style="width:100%; padding:10px; background:#00A86B; color:white; border:none; border-radius:5px; margin-bottom:5px;">ğŸ’¾ Salvar VersÃ£o</button>
            <button onclick="listarVersoes()" style="width:100%; padding:10px; background:#6c757d; color:white; border:none; border-radius:5px; margin-bottom:5px;">ğŸ“š HistÃ³rico</button>
            <button onclick="exportarPDF()" style="width:100%; padding:10px; background:#00A86B; color:white; border:none; border-radius:5px; margin-bottom:5px;">ğŸ“„ Exportar PDF</button>
            <button onclick="exportarFDX()" style="width:100%; padding:10px; background:#6c757d; color:white; border:none; border-radius:5px; margin-bottom:5px;">ğŸ“ Exportar Final Draft</button>
            <button onclick="fazerBackup()" style="width:100%; padding:10px; background:#333; color:white; border:none; border-radius:5px;">ğŸ’¿ Backup Completo</button>

            <h3 style="color:#00A86B; margin-top:20px;">ğŸ”„ VERSÃ•ES RECENTES</h3>
            <div id="lista-versoes" style="max-height:150px; overflow-y:auto;">
                <div style="padding:5px; background:white; margin-bottom:5px; border-radius:3px; font-size:12px;">Nenhuma versÃ£o salva</div>
            </div>
        </div>
    </div>
</div>

<!-- ADICIONAR O CSS ESPECÃFICO DO EDITOR -->
<style>
/* Estilos para o editor de roteiro */
.patika-cena {
    font-weight: bold;
    text-transform: uppercase;
    margin-top: 24px;
    color: #00A86B;
}
.patika-personagem {
    margin-left: 200px;
    font-weight: bold;
}
.patika-dialogo {
    margin-left: 140px;
    margin-right: 140px;
}
.patika-acao {
    margin-left: 0;
}
.modo-escuro {
    background-color: #1a1a1a !important;
    color: #e0e0e0 !important;
}
.modo-escuro .patika-personagem,
.modo-escuro .patika-dialogo {
    color: #e0e0e0;
}
</style>
