<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PATIKA â€¢ Editor de Roteiro</title>
    <link rel="stylesheet" href="../assets/css/patika-editor.css">
    <link rel="stylesheet" href="../assets/icons/patika-icons.css">
    <style>
        body { margin: 0; padding: 0; font-family: 'Courier New', monospace; }
        
        .editor-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: var(--editor-paper);
            border-bottom: 1px solid var(--editor-border);
            padding: 15px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            z-index: 900;
        }
        
        .editor-header button {
            background: transparent;
            border: 1px solid var(--editor-border);
            padding: 8px 16px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .editor-header button:hover {
            background: var(--editor-primary);
            color: white;
            border-color: var(--editor-primary);
        }
        
        .editor-content {
            margin-top: 80px;
        }
        
        .editor-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--editor-paper);
            border-top: 1px solid var(--editor-border);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 900;
        }
    </style>
</head>
<body>
    <button class="night-toggle" onclick="toggleNightMode()">
        <span class="icon icon-sun"></span> MODO NOTURNO
    </button>
    
    <div class="editor-header">
        <span class="icon icon-cmd icon-lg icon-primary"></span>
        <span style="flex:1;"></span>
        <button onclick="window.location.href='../src/pages/patika/'">
            <span class="icon icon-back"></span> VOLTAR
        </button>
        <button onclick="exportarPDF()">
            <span class="icon icon-enter"></span> EXPORTAR
        </button>
        <button onclick="salvarRoteiro()">
            <span class="icon icon-pencil"></span> SALVAR
        </button>
    </div>
    
    <div class="editor-container" id="editorContainer">
        <div class="editor-content">
            <div class="editor-paper" id="scriptPaper" contenteditable="true">
                <!-- ConteÃºdo do roteiro serÃ¡ inserido aqui -->
                <div class="script-title">MEU ROTEIRO</div>
                
                <div class="script-scene">INT. ESCRITÃ“RIO DE PATRICK - DIA</div>
                
                <div class="script-action">Patrick estÃ¡ diante do computador, finalmente com sua ferramenta de roteiro ideal.</div>
                
                <div class="script-char">PATRICK</div>
                <div class="script-dialog">Finalmente! Um editor com estilo Final Draft, mas com a alma do PATIKA.</div>
                
                <div class="script-action">Ele testa o modo noturno e os Ã­cones minimalistas.</div>
                
                <div class="script-char">PATRICK (V.O.)</div>
                <div class="script-dialog">Cores neutras, Ã­cones de terminal, formataÃ§Ã£o profissional... perfeito.</div>
                
                <div class="script-transition">CORTE PARA:</div>
            </div>
        </div>
    </div>
    
    <div class="editor-footer">
        <span><span class="icon icon-circle icon-xs icon-muted"></span> 1.234 palavras</span>
        <span><span class="icon icon-cmd icon-xs icon-primary"></span> PATIKA v8.0</span>
        <span><span class="icon icon-dot icon-xs icon-muted"></span> Salvo</span>
    </div>
    
    <script>
        function toggleNightMode() {
            const container = document.getElementById('editorContainer');
            container.classList.toggle('night-mode');
            localStorage.setItem('patika_night_mode', container.classList.contains('night-mode'));
        }
        
        // Carregar preferÃªncia
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('patika_night_mode') === 'true') {
                document.getElementById('editorContainer').classList.add('night-mode');
            }
        });
        
        function exportarPDF() {
            alert('ðŸ“„ Exportando PDF... (funcionalidade em breve)');
        }
        
        function salvarRoteiro() {
            const conteudo = document.getElementById('scriptPaper').innerText;
            localStorage.setItem('patika_roteiro_atual', conteudo);
            alert('âœ… Roteiro salvo!');
        }
        
        // Auto-save a cada 30 segundos
        setInterval(() => {
            const conteudo = document.getElementById('scriptPaper').innerText;
            localStorage.setItem('patika_roteiro_atual', conteudo);
            console.log('ðŸ’¾ Auto-save');
        }, 30000);
    </script>
</body>
</html>
